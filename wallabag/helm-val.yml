env:
   MYSQL_ROOT_PASSWORD: wallaroot
   SYMFONY__ENV__DATABASE_DRIVER: pdo_mysql
   SYMFONY__ENV__DATABASE_HOST: wallabag-mariadb
   SYMFONY__ENV__DATABASE_PORT: 3306
   SYMFONY__ENV__DATABASE_NAME: wallabag
   SYMFONY__ENV__DATABASE_USER: wallabag
   SYMFONY__ENV__DATABASE_PASSWORD: wallapass
   SYMFONY__ENV__DATABASE_CHARSET: utf8mb4

   SYMFONY__ENV__DOMAIN_NAME: "https://walla.aksine.lcl"
 
ingress:
  # - Enable and configure ingress settings for the chart under this key.
  # @default -- See values.yaml
  main:
    enabled: true
    hosts:
    - host: walla.aksine.lcl
      paths:
          - path: /

persistence:
  images:
    enabled: true
    mountPath: /var/www/wallabag/web/assets/images
    type: pvc
    existingClaim: wal-img-pvc
  cache:
    ## Note that if you make cache persistent, you may need to clear it (with `bin/console cache:clear --env=prod`) to apply any changes you make to wallabag's parameters.
    enabled: false

# -- Enable and configure mariadb database subchart under this key.
#    For more options see [mariadb chart documentation](https://github.com/bitnami/charts/tree/master/bitnami/mariadb)
# @default -- See values.yaml
mariadb:
  enabled: true
  architecture: standalone
  auth:
    database: wallabag
    username: wallabag
    password: "wallapass"
    rootPassword: "wallaroot"
  primary:
    persistence:
      enabled: true
      existingClaim: wal-pvc
      accessModes: ReadWriteOnce
    livenessProbe:
      enabled: true
      initialDelaySeconds: 300
      periodSeconds: 100
      timeoutSeconds: 100
      failureThreshold: 3
      successThreshold: 1
  ## @param primary.readinessProbe.enabled Enable readinessProbe
  ## @param primary.readinessProbe.initialDelaySeconds Initial delay seconds for readinessProbe
  ## @param primary.readinessProbe.periodSeconds Period seconds for readinessProbe
  ## @param primary.readinessProbe.timeoutSeconds Timeout seconds for readinessProbe
  ## @param primary.readinessProbe.failureThreshold Failure threshold for readinessProbe
  ## @param primary.readinessProbe.successThreshold Success threshold for readinessProbe
  ##
    readinessProbe:
      enabled: true
      initialDelaySeconds: 300
      periodSeconds: 100
      timeoutSeconds: 100
      failureThreshold: 3
      successThreshold: 1

  image:
    registry: docker.io
    repository: bitnami/mariadb
    tag: latest
  volumePermissions:
    enabled: true
redis:
  enabled: false
  auth:
    enabled: false
